<mat-card>
  <!-- <mat-card-header class="justify-start">
    <ng-container>
      <mat-form-field appearance="fill" class="create-full-width max-w-fit ">
        <input matInput (keyup)="Filterchange($event)" placeholder="Search" />
      </mat-form-field>
    </ng-container>
    <ng-container>
      <div class="flex justify-between py-3 mx-4">
        <h1>{{title}}</h1>
      </div>
    </ng-container>
    <ng-container *ngIf="showCreateButton">
      <div class="container">
        <div class="flex justify-around py-3">
          <button (click)="openCreate()" mat-raised-button color="primary"><mat-icon>create</mat-icon>Create</button>
        </div>
      </div>
    </ng-container>

  </mat-card-header> -->

  <mat-card-header class="flex items-center justify-between">
    <ng-container>
      <mat-form-field appearance="fill" class="create-full-width max-w-fit">
        <input matInput (keyup)="Filterchange($event)" placeholder="Search" />
      </mat-form-field>
    </ng-container>
    <ng-container class="flex-1 justify-center items-center">
      <div class="ml-72">
        <h1>{{title}}</h1>
      </div>
    </ng-container>
    <ng-container *ngIf="showCreateButton">
      <div class="ml-auto">
        <div class="flex justify-around py-3">
          <button (click)="openCreate()" mat-raised-button color="primary">
            <mat-icon>create</mat-icon>Create
          </button>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="!showCreateButton">
      <div class="ml-auto">
        <div class="flex justify-around py-3">
          <!-- To fill the void in the absence of create button -->
        </div>
      </div>
    </ng-container>
  </mat-card-header>
  
  
  
  

  <mat-card-content>
    <table matSort mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <!-- Column definitions -->
      <ng-container [matColumnDef]="col.Head" *ngFor="let col of HeadArray; let colIndex = index">
        <th mat-sort-header mat-header-cell *matHeaderCellDef>{{col.Head}}</th>
        <ng-container *ngIf="colIndex === 0">
          <td mat-cell *matCellDef="let element; let rowIndex = index">{{colIndex+rowIndex+1}}</td>
        </ng-container>
        <ng-container *ngIf="colIndex > 0">
          <td mat-cell *matCellDef="let element">
            <ng-container *ngIf="col.FieldName !== ''; else actionButtons">
              <!-- {{element[col.FieldName]}} -->
              <ng-container *ngIf="isDate(element[col.FieldName]); else normalData">
                {{ element[col.FieldName] | date: 'short' }}
              </ng-container>
              <ng-template #normalData>
                {{ element[col.FieldName] }}
              </ng-template>


            </ng-container>
            <ng-template #actionButtons>
              <!-- Edit button -->
              <button *ngIf="showEditButton" mat-icon-button color="primary"
                (click)="edit(element)"><mat-icon>edit</mat-icon></button>
              <!-- Toggle button -->
              <button *ngIf="showToggleButton" mat-icon-button [color]="element.isEnabled ? 'warn' : 'primary'"
                (click)="toggle(element)" style="margin-left: 10px;">
                <mat-icon>{{ element.isEnabled ? 'lock' : 'lock_open' }}</mat-icon>
              </button>
              <!-- Delete button button -->
              <button *ngIf="showDeleteButton" mat-icon-button color="warn"
              (click)="delete(element)"
                style="margin-left: 10px;"><mat-icon>delete</mat-icon></button>

              <button *ngIf="showViewButton" mat-icon-button color="primary"
                (click)="openView(element)"><mat-icon>tv</mat-icon></button>

<!-- <button mat-icon-button [matMenuTriggerFor]="menu">
  <mat-icon>more_vert</mat-icon>
</button>
<mat-menu #menu="matMenu" xPosition="after" yPosition="below">
  <ng-container>
    <h1>h1</h1>
    <h1>h2</h1>
    <h1>h3</h1>
  </ng-container>
</mat-menu> -->



            </ng-template>

          </td>
        </ng-container>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnsArray"></tr>

      <tr mat-row *matRowDef="let row; columns: columnsArray; "></tr>


      
      
      

    </table>

  </mat-card-content>
  <br>
  <mat-card-footer>

    <mat-paginator [pageSizeOptions]="[5,10,20]" showFirstLastButtons></mat-paginator>

  </mat-card-footer>
</mat-card>


<!-- <div class="card-body">


              color="warn"

    <div class="row">
        <div class="col-md-12">
             <app-mytable [HeadArray]="headArray" [GridArray]="list"
             (onEdit)="edit($event)"  (onDelete)="delete($event)"></app-mytable>
        </div>
    </div>
</div> -->

<!-- 
  ngOnInit() {
    this.loadUsers();
  }
    
    usersList: any[] = [];
headArray = [
  { 'Head': 'No', 'FieldName': 'no' },
  { 'Head': 'User Name', 'FieldName': 'name' },
  { 'Head': 'Email', 'FieldName': 'email' },
  { 'Head': 'Contact', 'FieldName': 'phone' },
  { 'Head': 'Website', 'FieldName': 'website' },
  { 'Head': 'Action', 'FieldName': '' }
];

loadUsers() {
  this.http.get('https://jsonplaceholder.typicode.com/users').subscribe((result: any) => {
    this.usersList = result;
  })
}

editUser(item: any) {
  debugger;
}
deleteUser(item: any) {
  debugger;
} -->